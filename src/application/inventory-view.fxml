<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="700.0" prefWidth="1200.0" style="-fx-background-color: #f8f9fa;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.InventoryViewController">

    <top>
        <VBox style="-fx-background-color: linear-gradient(to right, #27ae60, #2ecc71);">
            <padding>
                <Insets bottom="20" left="30" right="30" top="20" />
            </padding>
            <children>
                <Label text="ðŸ“¦ INVENTAIRE COMPLET" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>
                <Label fx:id="summaryLabel" text="Chargement..." textFill="#e8f5e8">
                    <font>
                        <Font size="14.0" />
                    </font>
                </Label>
            </children>
        </VBox>
    </top>

    <center>
        <VBox spacing="15.0">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <!-- Filter Options -->
            <HBox alignment="CENTER_LEFT" spacing="15.0">
                <Label style="-fx-font-weight: bold;" text="Filtrer par:" textFill="#4a5568" />
                <ComboBox fx:id="categoryFilter" prefWidth="200.0" promptText="Toutes les catÃ©gories" />
                <ComboBox fx:id="stockFilter" prefWidth="150.0" promptText="Tous les stocks" />
                <Button fx:id="applyFiltersButton" onAction="#applyFilters" style="-fx-background-color: #27ae60; -fx-background-radius: 5; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" text="ðŸ” Appliquer" />
                <Button fx:id="clearFiltersButton" onAction="#clearFilters" style="-fx-background-color: #718096; -fx-background-radius: 5; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;" text="ðŸ—‘ï¸ Effacer" />
            </HBox>

            <!-- Inventory Table -->
            <TableView fx:id="inventoryTable" prefHeight="500.0">
                <columns>
                    <TableColumn fx:id="idColumn" prefWidth="80" text="ID">
                        <cellValueFactory>
                            <PropertyValueFactory property="id" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="nameColumn" prefWidth="200" text="Nom">
                        <cellValueFactory>
                            <PropertyValueFactory property="nom" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="categoryColumn" prefWidth="150" text="CatÃ©gorie">
                        <cellValueFactory>
                            <PropertyValueFactory property="categorie" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="priceColumn" prefWidth="100" text="Prix (â‚¬)">
                        <cellValueFactory>
                            <PropertyValueFactory property="prix" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="quantityColumn" prefWidth="80" text="Stock">
                        <cellValueFactory>
                            <PropertyValueFactory property="quantiteStock" />
                        </cellValueFactory>
                    </TableColumn>
                    <TableColumn fx:id="statusColumn" prefWidth="120" text="Statut" />
                    <TableColumn fx:id="expiryColumn" prefWidth="120" text="Expiration" />
                    <TableColumn fx:id="typeColumn" prefWidth="120" text="Type" />
                </columns>
            </TableView>

            <!-- Statistics -->
            <HBox alignment="CENTER" spacing="30.0" style="-fx-background-color: #edf2f7; -fx-padding: 15; -fx-background-radius: 10;">
                <VBox alignment="CENTER">
                    <Label style="-fx-font-weight: bold;" text="Total Articles" textFill="#4a5568" />
                    <Label fx:id="totalItemsLabel" style="-fx-font-size: 18; -fx-font-weight: bold;" text="0" textFill="#27ae60" />
                </VBox>
                <VBox alignment="CENTER">
                    <Label style="-fx-font-weight: bold;" text="Valeur Totale" textFill="#4a5568" />
                    <Label fx:id="totalValueLabel" style="-fx-font-size: 18; -fx-font-weight: bold;" text="0.00â‚¬" textFill="#27ae60" />
                </VBox>
                <VBox alignment="CENTER">
                    <Label style="-fx-font-weight: bold;" text="Stock Faible" textFill="#4a5568" />
                    <Label fx:id="lowStockLabel" style="-fx-font-size: 18; -fx-font-weight: bold;" text="0" textFill="#ecc94b" />
                </VBox>
                <VBox alignment="CENTER">
                    <Label style="-fx-font-weight: bold;" text="Rupture" textFill="#4a5568" />
                    <Label fx:id="outOfStockLabel" style="-fx-font-size: 18; -fx-font-weight: bold;" text="0" textFill="#e74c3c" />
                </VBox>
            </HBox>
        </VBox>
    </center>

    <bottom>
        <HBox alignment="CENTER" spacing="20" style="-fx-padding: 15;">
            <Button fx:id="exportButton" onAction="#handleExportButton" style="-fx-background-color: #27ae60; -fx-background-radius: 5; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 10 20;" text="ðŸ’¾ Exporter" />
            <Button fx:id="refreshButton" onAction="#handleRefreshButton" style="-fx-background-color: #3182ce; -fx-background-radius: 5; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 10 20;" text="ðŸ”„ Actualiser" />
            <Button fx:id="backButton" onAction="#handleBackButton" style="-fx-background-color: #718096; -fx-background-radius: 5; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 10 20;" text="ðŸ”™ Retour" />
        </HBox>
    </bottom>
</BorderPane>
